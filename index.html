<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <meta property="og:title" content="ê³¨ë“œìŠ¤í… ì´ë²¤íŠ¸ ì¢…ë£Œ">
  <meta property="og:description" content="ì„±ì›ì— í˜ì…ì–´ ì„ ì°©ìˆœ ì´ë²¤íŠ¸ê°€ ì¡°ê¸° ë§ˆê°ë˜ì—ˆìŠµë‹ˆë‹¤.">
  <meta property="og:image" content="https://yooeunyeoul.github.io/roullette_giftycon/images/thumbnail2.png">
  <meta property="og:url" content="https://yooeunyeoul.github.io/roullette_giftycon/">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="ê³¨ë“œìŠ¤í…">
  
  <title>ğŸ„ ê³¨ë“œìŠ¤í… ì´ë²¤íŠ¸ ì¢…ë£Œ ğŸ„</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&family=Jua&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Jua', 'Noto Sans KR', sans-serif;
      background: linear-gradient(180deg, #333 0%, #555 100%); /* ë°°ê²½ì„ ì•½ê°„ ì–´ë‘¡ê²Œ ë³€ê²½ */
      min-height: 100vh;
      color: #fff;
      overflow-x: hidden;
      position: relative;
    }
    
    /* ëˆˆ ë‚´ë¦¬ëŠ” íš¨ê³¼ (íˆ¬ëª…ë„ ë‚®ì¶¤) */
    .snowflakes {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none; z-index: 1; overflow: hidden;
      opacity: 0.3;
    }
    
    .snowflake {
      position: absolute; top: -20px; color: #fff; font-size: 20px;
      opacity: 0.8; animation: fall linear infinite;
    }
    
    @keyframes fall {
      0% { transform: translateY(-20px) rotate(0deg); }
      100% { transform: translateY(100vh) rotate(360deg); }
    }
    
    .container {
      max-width: 420px;
      margin: 0 auto;
      padding: 20px;
      position: relative;
      z-index: 10;
    }
    
    .header { text-align: center; padding: 30px 0 10px; }
    
    .title {
      font-size: 28px;
      font-weight: 900;
      color: #ccc; /* ë§ˆê°ëœ ëŠë‚Œì˜ íšŒìƒ‰ í†¤ */
      text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
    }
    
    .subtitle {
      font-size: 18px;
      color: #ffd93d;
      margin-top: 10px;
      text-shadow: 1px 1px 0 rgba(0,0,0,0.5);
    }
    
    .roulette-section {
      display: flex; flex-direction: column; align-items: center; padding: 25px 0;
    }
    
    .wheel-wrapper {
      position: relative;
      filter: grayscale(100%) opacity(0.6); /* ë£°ë ›ì„ í‘ë°±ìœ¼ë¡œ ì²˜ë¦¬ */
    }
    
    /* ì¢…ë£Œ ì˜¤ë²„ë ˆì´ */
    .end-overlay {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.8);
      border: 4px solid #fff;
      color: #fff;
      padding: 15px 30px;
      font-size: 32px;
      font-weight: 900;
      border-radius: 15px;
      z-index: 20;
      white-space: nowrap;
      transform: translate(-50%, -50%) rotate(-10deg);
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }

    .pointer {
      position: absolute; top: -25px; left: 50%; transform: translateX(-50%);
      font-size: 45px; z-index: 10;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4));
      display: none; /* í¬ì¸í„° ìˆ¨ê¹€ */
    }
    
    #wheel {
      width: 320px; height: 320px; border-radius: 50%;
      box-shadow: 0 0 0 10px #555; /* ê·¸ë¦¼ì ìƒ‰ìƒ ë³€ê²½ */
    }
    
    /* ì¢…ë£Œ ì•ˆë‚´ ë°•ìŠ¤ */
    .end-message-box {
      background: #fff;
      color: #333;
      border-radius: 20px;
      padding: 30px 20px;
      text-align: center;
      margin-top: -20px; /* ë£°ë ›ê³¼ ê²¹ì¹˜ê²Œ */
      position: relative;
      z-index: 30;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      width: 100%;
    }

    .end-title {
      font-size: 24px; color: #e74c3c; margin-bottom: 10px;
      display: flex; align-items: center; justify-content: center; gap: 5px;
    }

    .end-desc { font-size: 15px; color: #666; line-height: 1.6; margin-bottom: 20px; }

    /* ì•± ì„¤ì¹˜ ë²„íŠ¼ (ëŒ€ì²´ ë²„íŠ¼) */
    .app-link-btn {
      display: block;
      width: 100%;
      padding: 18px;
      font-size: 18px;
      font-weight: 700;
      font-family: 'Jua', sans-serif;
      color: #fff;
      background: linear-gradient(135deg, #4dabf7, #228be6);
      border: none;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 5px 0 #1864ab, 0 10px 20px rgba(0,0,0,0.2);
      transition: all 0.1s;
      text-decoration: none; /* ë§í¬ ë°‘ì¤„ ì œê±° */
    }
    
    .app-link-btn:hover { transform: translateY(-2px); }
    .app-link-btn:active { transform: translateY(3px); box-shadow: 0 2px 0 #1864ab; }

    /* ì¥ì‹ */
    .deco {
      position: fixed; font-size: 40px; opacity: 0.3; /* ì¥ì‹ íˆ¬ëª…ë„ ë‚®ì¶¤ */
      animation: float 3s ease-in-out infinite;
    }
    .deco-1 { top: 8%; left: 3%; }
    .deco-2 { top: 12%; right: 5%; }
    .deco-3 { bottom: 25%; left: 5%; }
    .deco-4 { bottom: 20%; right: 3%; }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-15px) rotate(10deg); }
    }
  </style>
</head>
<body>
  <div class="snowflakes" id="snowflakes"></div>
  
  <div class="deco deco-1">ğŸ„</div>
  <div class="deco deco-2">ğŸ…</div>
  <div class="deco deco-3">ğŸ</div>
  <div class="deco deco-4">â›„</div>

  <div class="container">
    <header class="header">
      <h1 class="title">ğŸ„ ì´ë²¤íŠ¸ ì¢…ë£Œ ğŸ„</h1>
      <p class="subtitle">ì„±ì›ì— ê°ì‚¬ë“œë¦½ë‹ˆë‹¤! ğŸ™‡â€â™‚ï¸</p>
    </header>
    
    <section class="roulette-section">
      <div class="wheel-wrapper">
        <div class="pointer">ğŸ‘‡</div>
        <div class="end-overlay">THE END</div>
        <canvas id="wheel"></canvas>
      </div>
      
      <div class="end-message-box">
        <h2 class="end-title">ğŸ“¢ ì„ ì°©ìˆœ ë§ˆê° ì•ˆë‚´</h2>
        <p class="end-desc">
          ì¤€ë¹„ëœ ìˆ˜ëŸ‰ì´ ëª¨ë‘ ì†Œì§„ë˜ì–´<br>
          ì´ë²¤íŠ¸ê°€ ì¡°ê¸° ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.<br>
          <br>
          ì•„ì‰½ê²Œ ë†“ì¹˜ì…¨ë‚˜ìš”?<br>
          <strong>ê³¨ë“œìŠ¤í… ì•±</strong>ì„ ì„¤ì¹˜í•˜ê³ <br>
          ë‹¤ìŒ ê²Œë¦´ë¼ ì´ë²¤íŠ¸ë¥¼ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”!
        </p>
        
        <a href="https://play.google.com/store/apps/details?id=com.goldmanbo.circle&hl=ko" class="app-link-btn">
          ğŸ ê³¨ë“œìŠ¤í… ì•± êµ¬ê²½í•˜ëŸ¬ ê°€ê¸°
        </a>
      </div>
    </section>
  </div>

  <script>
    // ============================================
    // ğŸ”§ ì„¤ì • (ê¸°ì¡´ ì´ë¯¸ì§€ ë¡œë”©ìš©)
    // ============================================
    const PRIZES = [
      { id: 'shinramen',   text: 'ì‹ ë¼ë©´ ì†Œì»µ',     image: 'images/shinramen.png',   prob: 1 },
      { id: 'jayusigan',   text: 'ììœ ì‹œê°„',        image: 'images/jayusigan.png',   prob: 1 },
      { id: 'kimchi',      text: 'ê¹€ì¹˜ ì‚¬ë°œë©´',      image: 'images/kimchi.png',       prob: 1 },
      { id: 'yukgaejang',  text: 'ìœ¡ê°œì¥ ì‚¬ë°œë©´',    image: 'images/yukgaejang.png',  prob: 1 },
      { id: 'gatorade',    text: 'ê²Œí† ë ˆì´ ë ˆëª¬',    image: 'images/gatorade.png',     prob: 1 },
      { id: 'chocosongyi', text: 'ì´ˆì½”ì†¡ì´',        image: 'images/chocosongyi.png', prob: 1 }
    ];

    // ìƒ‰ìƒì„ íšŒìƒ‰í†¤ìœ¼ë¡œ ë³€ê²½ (ë§ˆê° ëŠë‚Œ)
    const WHEEL_COLORS = ['#eee', '#ddd', '#ccc', '#bbb', '#aaa', '#999'];

    // ============================================
    // â„ï¸ ëˆˆ ë‚´ë¦¬ëŠ” íš¨ê³¼
    // ============================================
    function createSnowflakes() {
      const container = document.getElementById('snowflakes');
      const snowflakeChars = ['â„', 'â…', 'â†', 'âœ¦'];
      
      for (let i = 0; i < 30; i++) {
        const snowflake = document.createElement('div');
        snowflake.className = 'snowflake';
        snowflake.textContent = snowflakeChars[Math.floor(Math.random() * snowflakeChars.length)];
        snowflake.style.left = Math.random() * 100 + '%';
        snowflake.style.fontSize = (Math.random() * 15 + 10) + 'px';
        snowflake.style.animationDuration = (Math.random() * 5 + 5) + 's';
        snowflake.style.animationDelay = (Math.random() * 10) + 's';
        container.appendChild(snowflake);
      }
    }
    createSnowflakes();

    // ============================================
    // ğŸ¨ ìº”ë²„ìŠ¤ ê·¸ë¦¬ê¸° (ì •ì  ì´ë¯¸ì§€)
    // ============================================
    const canvas = document.getElementById('wheel');
    const ctx = canvas.getContext('2d');
    
    const displaySize = 320;
    const scale = 2;
    canvas.width = displaySize * scale;
    canvas.height = displaySize * scale;
    canvas.style.width = displaySize + 'px';
    canvas.style.height = displaySize + 'px';
    ctx.scale(scale, scale);
    
    const centerX = displaySize / 2;
    const centerY = displaySize / 2;
    const radius = displaySize / 2 - 5;

    let imagesLoaded = 0;
    const prizeImages = [];

    PRIZES.forEach((prize, i) => {
      const img = new Image();
      img.onload = () => {
        imagesLoaded++;
        if (imagesLoaded === PRIZES.length) drawWheel();
      };
      img.onerror = () => { // ì´ë¯¸ì§€ê°€ ì—†ì–´ë„ íœ ì€ ê·¸ë¦¬ë„ë¡
         imagesLoaded++;
         if (imagesLoaded === PRIZES.length) drawWheel();
      };
      img.src = prize.image;
      prizeImages[i] = img;
    });

    function drawWheel() {
      const sliceAngle = (2 * Math.PI) / PRIZES.length;
      
      PRIZES.forEach((prize, i) => {
        const startAngle = i * sliceAngle;
        const endAngle = startAngle + sliceAngle;
        
        // ì¡°ê° ê·¸ë¦¬ê¸°
        ctx.beginPath();
        ctx.moveTo(centerX, centerY);
        ctx.arc(centerX, centerY, radius, startAngle, endAngle);
        ctx.closePath();
        ctx.fillStyle = WHEEL_COLORS[i];
        ctx.fill();
        ctx.strokeStyle = '#fff';
        ctx.lineWidth = 3;
        ctx.stroke();
        
        // ì´ë¯¸ì§€ ê·¸ë¦¬ê¸°
        ctx.save();
        ctx.translate(centerX, centerY);
        const midAngle = startAngle + sliceAngle / 2;
        const imgDistance = radius - 50;
        const imgX = Math.cos(midAngle) * imgDistance;
        const imgY = Math.sin(midAngle) * imgDistance;
        ctx.translate(imgX, imgY);
        
        const imgSize = 85;
        
        if (prizeImages[i] && prizeImages[i].complete && prizeImages[i].naturalWidth > 0) {
          // ì´ë¯¸ì§€ ë°°ê²½
          ctx.beginPath();
          ctx.arc(0, 0, imgSize/2 + 4, 0, 2 * Math.PI);
          ctx.fillStyle = '#fff';
          ctx.fill();
          
          // ì´ë¯¸ì§€ (í‘ë°± í•„í„° íš¨ê³¼ í‰ë‚´)
          ctx.globalAlpha = 0.5; // íë¦¬ê²Œ
          ctx.save();
          ctx.beginPath();
          ctx.arc(0, 0, imgSize/2, 0, 2 * Math.PI);
          ctx.clip();
          ctx.drawImage(prizeImages[i], -imgSize/2, -imgSize/2, imgSize, imgSize);
          ctx.restore();
          ctx.globalAlpha = 1.0;
        }
        ctx.restore();
      });
      
      // ì¤‘ì•™ ì›
      ctx.beginPath();
      ctx.arc(centerX, centerY, 40, 0, 2 * Math.PI);
      ctx.fillStyle = '#888'; // íšŒìƒ‰
      ctx.fill();
      ctx.strokeStyle = '#fff';
      ctx.lineWidth = 5;
      ctx.stroke();
      
      ctx.font = '28px sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillStyle = '#fff';
      ctx.fillText('END', centerX, centerY);
    }
  </script>
</body>
</html>
