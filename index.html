<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ğŸ„ ê³¨ë“œìŠ¤í… í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë£°ë ›</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      min-height: 100vh;
      color: #fff;
    }
    
    .container {
      max-width: 420px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .header {
      text-align: center;
      padding: 20px 0;
    }
    
    .title {
      font-size: 26px;
      font-weight: 900;
      background: linear-gradient(135deg, #ff6b6b, #ffd93d, #6bcf63);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .subtitle {
      font-size: 14px;
      color: #ffd93d;
      margin-top: 8px;
    }
    
    .notice {
      font-size: 12px;
      color: #ff6b6b;
      background: rgba(255,107,107,0.15);
      padding: 5px 15px;
      border-radius: 20px;
      display: inline-block;
      margin-top: 10px;
    }
    
    .roulette-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 30px 0;
    }
    
    .wheel-wrapper {
      position: relative;
    }
    
    .pointer {
      position: absolute;
      top: -15px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 35px;
      z-index: 10;
      filter: drop-shadow(0 3px 6px rgba(0,0,0,0.5));
    }
    
    #wheel {
      border-radius: 50%;
      box-shadow: 
        0 0 0 8px #2d2d44,
        0 0 0 12px #ffd93d,
        0 0 40px rgba(255,217,61,0.3);
    }
    
    .spin-btn {
      margin-top: 25px;
      padding: 15px 50px;
      font-size: 18px;
      font-weight: 700;
      color: #fff;
      background: linear-gradient(135deg, #ff6b6b, #ee5a5a);
      border: none;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 5px 20px rgba(255,107,107,0.4);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .spin-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(255,107,107,0.5);
    }
    
    .spin-btn:disabled {
      background: #555;
      cursor: not-allowed;
      box-shadow: none;
      transform: none;
    }
    
    .info-section {
      background: rgba(255,255,255,0.05);
      border-radius: 15px;
      padding: 20px;
      margin-top: 20px;
    }
    
    .info-section h3 {
      font-size: 14px;
      color: #ffd93d;
      margin-bottom: 12px;
    }
    
    .info-section p {
      font-size: 12px;
      color: #888;
      line-height: 1.8;
    }
    
    .info-section strong {
      color: #ff6b6b;
    }
    
    /* ëª¨ë‹¬ */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
      z-index: 100;
      padding: 20px;
    }
    
    .modal.show { display: flex; }
    
    .modal-box {
      background: linear-gradient(180deg, #1a1a2e, #16213e);
      border: 2px solid #ffd93d;
      border-radius: 25px;
      padding: 35px 25px;
      text-align: center;
      max-width: 320px;
      width: 100%;
      animation: popIn 0.4s ease;
    }
    
    @keyframes popIn {
      0% { transform: scale(0.7); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
    
    .modal-emoji { font-size: 50px; }
    
    .modal-title {
      font-size: 24px;
      color: #ff6b6b;
      margin: 15px 0;
    }
    
    .modal-prize {
      background: rgba(255,255,255,0.1);
      border-radius: 15px;
      padding: 20px;
      margin: 15px 0;
    }
    
    .modal-prize img {
      width: 100px;
      height: 100px;
      object-fit: contain;
      border-radius: 10px;
      background: #fff;
      padding: 8px;
    }
    
    .modal-prize-text {
      font-size: 22px;
      font-weight: 900;
      color: #ffd93d;
      margin-top: 10px;
    }
    
    .modal-desc {
      font-size: 13px;
      color: #aaa;
      margin-bottom: 20px;
    }
    
    .modal-btn {
      display: block;
      width: 100%;
      padding: 15px;
      font-size: 16px;
      font-weight: 700;
      color: #fff;
      background: linear-gradient(135deg, #6bcf63, #4CAF50);
      border: none;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(107,207,99,0.4);
    }
    
    .modal-timer {
      margin-top: 15px;
      font-size: 12px;
      color: #ff6b6b;
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <h1 class="title">ğŸ„ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë£°ë › ğŸ…</h1>
      <p class="subtitle">100% ë‹¹ì²¨! ì§€ê¸ˆ ë°”ë¡œ ëŒë ¤ë³´ì„¸ìš”</p>
      <p class="notice">â€» ì‹ ê·œ íšŒì› ì „ìš© ì´ë²¤íŠ¸</p>
    </header>
    
    <section class="roulette-section">
      <div class="wheel-wrapper">
        <div class="pointer">ğŸ”»</div>
        <canvas id="wheel" width="300" height="300"></canvas>
      </div>
      <button id="spinBtn" class="spin-btn">ğŸ° ë£°ë › ëŒë¦¬ê¸°</button>
    </section>
    
    <section class="info-section">
      <h3>ğŸ“Œ ìœ ì˜ì‚¬í•­</h3>
      <p>
        â€¢ ë³¸ ì´ë²¤íŠ¸ëŠ” <strong>ì‹ ê·œ íšŒì› ì „ìš©</strong>ì…ë‹ˆë‹¤.<br>
        â€¢ ë£°ë › ì°¸ì—¬ í›„ ì•± ì„¤ì¹˜ ë° ê°€ì… ì‹œ ìƒí’ˆ ì§€ê¸‰<br>
        â€¢ ì´ë²¤íŠ¸ ê¸°ê°„: 2025.12.22 ~ 12.28
      </p>
    </section>
  </div>
  
  <!-- ê²°ê³¼ ëª¨ë‹¬ -->
  <div id="modal" class="modal">
    <div class="modal-box">
      <div class="modal-emoji">ğŸ‰</div>
      <h2 class="modal-title">ì¶•í•˜í•©ë‹ˆë‹¤!</h2>
      <div class="modal-prize">
        <img id="prizeImg" src="" alt="">
        <p id="prizeText" class="modal-prize-text"></p>
      </div>
      <p class="modal-desc">ì•± ì„¤ì¹˜í•˜ê³  ë°”ë¡œ ë°›ì•„ê°€ì„¸ìš”!</p>
      <button id="downloadBtn" class="modal-btn">ğŸ ì§€ê¸ˆ ë°›ìœ¼ëŸ¬ ê°€ê¸°</button>
      <p class="modal-timer">â° 24ì‹œê°„ ë‚´ ì„¤ì¹˜ ì‹œ ìœ íš¨</p>
    </div>
  </div>

  <script>
    // ============================================
    // ğŸ”§ ì„¤ì •
    // ============================================
    const CONFIG = {
      ONELINK_BASE: 'https://goldstep.onelink.me/abcd',
      PLAYSTORE_URL: 'https://play.google.com/store/apps/details?id=com.goldstep'
    };

    // ============================================
    // ğŸ ìƒí’ˆ ë°ì´í„° (6ê°œ) - ì´ë¯¸ì§€ë§Œ!
    // ============================================
    const PRIZES = [
      { id: 'top',      text: 'TOP',        image: 'images/top.png',      color: '#8B4513', prob: 25 },
      { id: 'ramen',    text: 'ì§„ë¼ë©´',      image: 'images/ramen.png',    color: '#e74c3c', prob: 25 },
      { id: 'hotbreak', text: 'í•«ë¸Œë ˆì´í¬',  image: 'images/hotbreak.png', color: '#9b59b6', prob: 20 },
      { id: 'icecream', text: 'ì•„ì´ìŠ¤í¬ë¦¼',  image: 'images/icecream.png', color: '#3498db', prob: 15 },
      { id: 'wang',     text: 'ì™•ëšœê»‘',      image: 'images/wang.png',     color: '#e67e22', prob: 10 },
      { id: 'choco',    text: 'ì´ˆì½”ì†¡ì´',    image: 'images/choco.png',    color: '#27ae60', prob: 5 }
    ];

    // ============================================
    // ğŸ¨ ìº”ë²„ìŠ¤ ë£°ë ›
    // ============================================
    const canvas = document.getElementById('wheel');
    const ctx = canvas.getContext('2d');
    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;
    const radius = canvas.width / 2 - 5;

    let currentAngle = 0;
    let imagesLoaded = 0;
    const prizeImages = [];

    // ì´ë¯¸ì§€ ë¯¸ë¦¬ ë¡œë“œ
    PRIZES.forEach((prize, i) => {
      const img = new Image();
      img.onload = () => {
        imagesLoaded++;
        if (imagesLoaded === PRIZES.length) drawWheel();
      };
      img.onerror = () => {
        imagesLoaded++;
        if (imagesLoaded === PRIZES.length) drawWheel();
      };
      img.src = prize.image;
      prizeImages[i] = img;
    });

    function drawWheel() {
      const sliceAngle = (2 * Math.PI) / PRIZES.length;
      
      PRIZES.forEach((prize, i) => {
        const startAngle = currentAngle + i * sliceAngle;
        const endAngle = startAngle + sliceAngle;
        
        // ì¡°ê° ê·¸ë¦¬ê¸°
        ctx.beginPath();
        ctx.moveTo(centerX, centerY);
        ctx.arc(centerX, centerY, radius, startAngle, endAngle);
        ctx.closePath();
        ctx.fillStyle = prize.color;
        ctx.fill();
        ctx.strokeStyle = '#1a1a2e';
        ctx.lineWidth = 2;
        ctx.stroke();
        
        // ì´ë¯¸ì§€ë§Œ ê·¸ë¦¬ê¸° (í…ìŠ¤íŠ¸ ì—†ìŒ!)
        ctx.save();
        ctx.translate(centerX, centerY);
        ctx.rotate(startAngle + sliceAngle / 2);
        
        const imgSize = 40;
        const imgX = radius - 75;
        const imgY = -imgSize / 2;
        
        if (prizeImages[i] && prizeImages[i].complete && prizeImages[i].naturalWidth > 0) {
          // ì´ë¯¸ì§€ ë°°ê²½ (í°ìƒ‰ ì›)
          ctx.beginPath();
          ctx.arc(imgX + imgSize/2, 0, imgSize/2 + 3, 0, 2 * Math.PI);
          ctx.fillStyle = '#fff';
          ctx.fill();
          
          // ì´ë¯¸ì§€
          ctx.drawImage(prizeImages[i], imgX, imgY, imgSize, imgSize);
        }
        
        ctx.restore();
      });
      
      // ì¤‘ì•™ ì›
      ctx.beginPath();
      ctx.arc(centerX, centerY, 25, 0, 2 * Math.PI);
      ctx.fillStyle = '#ffd93d';
      ctx.fill();
      ctx.strokeStyle = '#fff';
      ctx.lineWidth = 3;
      ctx.stroke();
    }

    setTimeout(drawWheel, 100);

    // ============================================
    // ğŸ² í™•ë¥  ê¸°ë°˜ ì„ íƒ
    // ============================================
    function selectPrize() {
      const total = PRIZES.reduce((sum, p) => sum + p.prob, 0);
      let rand = Math.random() * total;
      for (const prize of PRIZES) {
        rand -= prize.prob;
        if (rand <= 0) return prize;
      }
      return PRIZES[0];
    }

    // ============================================
    // ğŸ¡ ë£°ë › íšŒì „
    // ============================================
    let isSpinning = false;
    const spinBtn = document.getElementById('spinBtn');

    spinBtn.addEventListener('click', () => {
      if (isSpinning) return;
      isSpinning = true;
      spinBtn.disabled = true;
      spinBtn.textContent = 'ëŒì•„ê°€ëŠ” ì¤‘...';

      const prize = selectPrize();
      const prizeIndex = PRIZES.indexOf(prize);
      const sliceAngle = 360 / PRIZES.length;
      
      const targetAngle = 360 - (prizeIndex * sliceAngle + sliceAngle / 2) - 90;
      const totalRotation = 360 * 6 + targetAngle;
      
      let start = null;
      const duration = 5000;
      const startAngle = currentAngle;

      function animate(timestamp) {
        if (!start) start = timestamp;
        const progress = Math.min((timestamp - start) / duration, 1);
        
        const easeOut = 1 - Math.pow(1 - progress, 3);
        currentAngle = (startAngle + totalRotation * easeOut) * Math.PI / 180;
        
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawWheel();
        
        if (progress < 1) {
          requestAnimationFrame(animate);
        } else {
          isSpinning = false;
          showModal(prize);
        }
      }
      
      requestAnimationFrame(animate);
    });

    // ============================================
    // ğŸŠ ê²°ê³¼ ëª¨ë‹¬
    // ============================================
    function showModal(prize) {
      document.getElementById('prizeImg').src = prize.image;
      document.getElementById('prizeText').textContent = prize.text + ' ë‹¹ì²¨!';
      document.getElementById('modal').classList.add('show');
      
      document.getElementById('downloadBtn').onclick = () => {
        const url = `${CONFIG.ONELINK_BASE}?product_id=${prize.id}&product_name=${encodeURIComponent(prize.text)}`;
        window.location.href = url;
      };
    }
  </script>
</body>
</html>
